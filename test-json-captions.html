<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Word Timestamps Demo</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .caption-container {
            margin-top: 30px;
        }
        .caption-item {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 12px 16px;
            margin-bottom: 8px;
            background-color: #f9f9f9;
        }
        .timestamp {
            color: #666;
            font-size: 12px;
            margin-bottom: 4px;
        }
        .caption-text {
            font-size: 16px;
            line-height: 1.4;
        }
        .speaker {
            font-weight: bold;
        }
        video {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        h1 {
            color: #333;
        }
        button {
            background-color: #6366f1;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #4f46e5;
        }
    </style>
</head>
<body>
    <h1>Word-Level Timestamps Demo</h1>
    <p>This demonstrates how the JSON word timestamps will be formatted with 4 words per line.</p>
    
    <div id="demo-container">
        <div class="caption-container" id="captions">
            <!-- Captions will be inserted here -->
        </div>
    </div>

    <button id="load-btn">Load Sample Captions</button>

    <script>
        // Sample word timestamps JSON (shortened for demo)
        const sampleData = {
            "text": "I have to say, when you're building products to try to connect everyone in the world, connecting folks who are out in space is about as extreme and cool as it gets. So it's awesome to have the opportunity to talk to you guys today.",
            "segments": [
                {
                    "id": 0,
                    "start": 0.0049999999999954525,
                    "end": 10.227999999999994,
                    "text": "I have to say, when you're building products to try to connect everyone in the world, connecting folks who are out in space is about as extreme and cool as it gets.",
                    "words": [
                        { "word": "I", "start": 0.0049999999999954525, "end": 0.06499999999999773 },
                        { "word": "have", "start": 0.10500000000000398, "end": 0.22499999999999432 },
                        { "word": "to", "start": 0.26500000000000057, "end": 0.32500000000000284 },
                        { "word": "say,", "start": 0.3649999999999949, "end": 0.5249999999999915 },
                        { "word": "when", "start": 0.5450000000000017, "end": 0.644999999999996 },
                        { "word": "you're", "start": 0.664999999999992, "end": 0.8250000000000028 },
                        { "word": "building", "start": 0.8449999999999989, "end": 1.1659999999999968 },
                        { "word": "products", "start": 1.2459999999999951, "end": 1.725999999999999 },
                        { "word": "to", "start": 1.7660000000000053, "end": 1.8859999999999957 },
                        { "word": "try", "start": 1.926000000000002, "end": 2.0859999999999985 },
                        { "word": "to", "start": 2.1059999999999945, "end": 2.165999999999997 },
                        { "word": "connect", "start": 2.206000000000003, "end": 2.486000000000004 },
                        { "word": "everyone", "start": 2.5259999999999962, "end": 2.745999999999995 },
                        { "word": "in", "start": 2.7660000000000053, "end": 2.8259999999999934 },
                        { "word": "the", "start": 2.8460000000000036, "end": 2.9059999999999917 },
                        { "word": "world,", "start": 2.945999999999998, "end": 3.2660000000000053 }
                    ]
                },
                {
                    "id": 1,
                    "start": 10.287999999999997,
                    "end": 13.528999999999996,
                    "text": "So it's awesome to have the opportunity to talk to you guys today.",
                    "words": [
                        { "word": "So", "start": 10.287999999999997, "end": 10.447999999999993 },
                        { "word": "it's", "start": 10.507999999999996, "end": 10.867999999999995 },
                        { "word": "awesome", "start": 10.947999999999993, "end": 11.248000000000005 },
                        { "word": "to", "start": 11.268, "end": 11.307999999999993 },
                        { "word": "have", "start": 11.328000000000003, "end": 11.447999999999993 },
                        { "word": "the", "start": 11.468000000000004, "end": 11.548000000000002 },
                        { "word": "opportunity", "start": 11.587999999999994, "end": 12.167999999999992 },
                        { "word": "to", "start": 12.188000000000002, "end": 12.349000000000004 },
                        { "word": "talk", "start": 12.688999999999993, "end": 12.888999999999996 },
                        { "word": "to", "start": 12.908999999999992, "end": 12.948999999999998 },
                        { "word": "you", "start": 12.968999999999994, "end": 13.048999999999992 },
                        { "word": "guys", "start": 13.069000000000003, "end": 13.268999999999991 },
                        { "word": "today.", "start": 13.308999999999997, "end": 13.528999999999996 }
                    ]
                }
            ]
        };

        // Format seconds to MM:SS format
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // Process JSON data and display captions
        function displayCaptions(data) {
            const captionsContainer = document.getElementById('captions');
            captionsContainer.innerHTML = '';

            // Process each segment
            data.segments.forEach(segment => {
                if (segment.words && Array.isArray(segment.words)) {
                    const words = segment.words;
                    const wordsPerLine = 4; // Display 4 words per line
                    
                    for (let i = 0; i < words.length; i += wordsPerLine) {
                        const wordChunk = words.slice(i, i + wordsPerLine);
                        if (wordChunk.length === 0) continue;
                        
                        // Get start time from first word and end time from last word
                        const startTime = wordChunk[0].start;
                        const endTime = wordChunk[wordChunk.length - 1].end;
                        
                        // Create text by joining the words
                        const text = wordChunk.map(w => w.word).join(' ');
                        
                        // Create caption element
                        const captionItem = document.createElement('div');
                        captionItem.className = 'caption-item';
                        
                        const timestamp = document.createElement('div');
                        timestamp.className = 'timestamp';
                        timestamp.textContent = `${formatTime(startTime)} - ${formatTime(endTime)}`;
                        
                        const captionText = document.createElement('div');
                        captionText.className = 'caption-text';
                        captionText.innerHTML = `<span class="speaker">[Speaker]:</span> ${text}`;
                        
                        captionItem.appendChild(timestamp);
                        captionItem.appendChild(captionText);
                        
                        captionsContainer.appendChild(captionItem);
                    }
                }
            });
        }

        // Event listener for load button
        document.getElementById('load-btn').addEventListener('click', () => {
            displayCaptions(sampleData);
        });
    </script>
</body>
</html> 